<!DOCTYPE html>
<html lang="en-US" class="gtie9 modern">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="format-detection" content="telephone=no,email=no,address=no" />
  <meta name="msapplication-tap-highlight" content="no" />

  <title>Infor CRM</title>

  <link rel="icon" type="image/png" href="content/images/icon.png" />
  <link rel="apple-touch-icon" href="content/images/touch-icon-iphone.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="content/images/72x72.png" />
  <link rel="apple-touch-icon" sizes="76x76" href="content/images/touch-icon-ipad.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="content/images/114x114.png" />
  <link rel="apple-touch-icon" sizes="120x120" href="content/images/touch-icon-iphone-retina.png" />
  <link rel="apple-touch-icon" sizes="144x144" href="content/images/144x144.png" />
  <link rel="apple-touch-icon" sizes="152x152" href="content/images/touch-icon-ipad-retina.png" />
  <!-- Startup images -->

  <!-- iOS 6 & 7 iPad (retina, portrait) -->
  <link href="content/images/apple-touch-startup-image-1536x2008.png" media="(device-width: 768px) and (device-height: 1024px)
             and (orientation: portrait)
             and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">

  <!-- iOS 6 & 7 iPad (retina, landscape) -->
  <link href="content/images/apple-touch-startup-image-1496x2048.png" media="(device-width: 768px) and (device-height: 1024px)
             and (orientation: landscape)
             and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">

  <!-- iOS 6 iPad (portrait) -->
  <link href="content/images/apple-touch-startup-image-768x1004.png" media="(device-width: 768px) and (device-height: 1024px)
             and (orientation: portrait)
             and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">

  <!-- iOS 6 iPad (landscape) -->
  <link href="content/images/apple-touch-startup-image-748x1024.png" media="(device-width: 768px) and (device-height: 1024px)
             and (orientation: landscape)
             and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">

  <!-- iOS 6 & 7 iPhone 5 -->
  <link href="content/images/apple-touch-startup-image-640x1096.png" media="(device-width: 320px) and (device-height: 568px)
             and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">

  <!-- iOS 6 & 7 iPhone (retina) -->
  <link href="content/images/apple-touch-startup-image-640x920.png" media="(device-width: 320px) and (device-height: 480px)
             and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">

  <!-- iOS 6 iPhone -->
  <link href="content/images/apple-touch-startup-image-320x480.png" media="(device-width: 320px) and (device-height: 480px)
             and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">

  <link rel="stylesheet" id="sohoxi-stylesheet" href="./node_modules/@infor/sohoxi/dist/css/light-theme.css">

  <!-- less files -->
  <link rel="stylesheet/less" type="text/css" href="../../argos-sdk/content/css/themes/crm.less" />
  <link rel="stylesheet/less" type="text/css" href="content/css/app.less" />

  <!-- less -->
  <script type="text/javascript">
    less = {
      env: "development", // or "production"
      async: false, // load imports async
      fileAsync: false, // load imports async when in a page under
      // a file protocol
      poll: 1000, // when in watch mode, time in ms between polls
      functions: {}, // user functions, keyed by name
      dumpLineNumbers: "all", // or "mediaQuery" or "all"
      relativeUrls: true, // whether to adjust url's to be relative
      // if false, url's are already relative to the
      // entry less file
      rootpath: "" // a path to add on to the start of every url
        //resource
    };
  </script>

  <script type="text/javascript" src="./node_modules/less/dist/less.js"></script>

  <!-- SData Client Library -->
  <script type="text/javascript" src="../../argos-sdk/libraries/sdata/sdata-client-dependencies-debug.js"></script>
  <script type="text/javascript" src="../../argos-sdk/libraries/sdata/sdata-client-debug.js"></script>

  <!-- Simplate -->
  <script type="text/javascript" src="../../argos-sdk/libraries/Simplate.js"></script>

  <!-- canvas2image for when HTMLCanvasElement.prototype.toDataURL isn't available -->
  <script type="text/javascript" src="../../argos-sdk/libraries/canvas2image.js"></script>

  <!-- Deep Diff -->
  <script type="text/javascript" src="../../argos-sdk/libraries/deep-diff/deep-diff-0.2.0.min.js"></script>

  <!-- Rx.js -->
  <script src="./node_modules/rx-lite/rx.lite.js"></script>

  <!-- Page.js -->
  <script type="text/javascript" src="../../argos-sdk/libraries/pagejs-1.6.1/page.js"></script>

  <!-- Babel -->
  <script type="text/javascript" src="./node_modules/babel-polyfill/dist/polyfill.js"></script>

  <!-- moment -->
  <script type="text/javascript" src="./node_modules/moment/min/moment-with-locales.js"></script>

  <!-- PouchDB -->
  <script type="text/javascript" src="../../argos-sdk/libraries/pouchdb/pouchdb-6.1.2.js"></script>

  <!-- L20N.js -->
  <script type="text/javascript" src="../../argos-sdk/libraries/l20n/l20n.js"></script>

  <!-- jQuery -->
  <script type="text/javascript" src="./node_modules/jquery/dist/jquery.js"></script>

  <!-- D3 -->
  <script type="text/javascript" src="./node_modules/d3/d3.js"></script>

  <!-- SohoXi -->
  <script type="text/javascript" src="./node_modules/@infor/sohoxi/dist/js/sohoxi.js"></script>

  <!-- Redux -->
  <script type="text/javascript" src="./node_modules/redux/dist/redux.js"></script>

  <!-- ICRM Common, depends on moment -->
  <script type="text/javascript" src="./node_modules/@infor/icrm-js-common/dist/bundles/common.bundle.js"></script>
  <script type="text/javascript" src="./node_modules/@infor/icrm-js-customization/dist/bundles/customization.bundle.js"></script>
  <script type="text/javascript" src="./node_modules/@infor/icrm-js-services/dist/bundles/services.bundle.js"></script>

  <!-- Dojo -->
  <script pin="pin" type="text/javascript">
        var language, regionLocale;
        if (window.localStorage) {
          language = window.localStorage.getItem('language');
          regionLocale = window.localStorage.getItem('region');
        }
        var dojoConfig = {
            parseOnLoad:false,
            async:true,
            blankGif:'content/images/blank.gif',
            locale: language ||  'en',
            extraLocale: [regionLocale || 'en-us']
        };
    </script>
  <script type="text/javascript" src="../../argos-sdk/libraries/dojo/dojo/dojo.js"></script>
  <script type="text/javascript">
    require({
      baseUrl: "./",
      packages: [{
        name: 'dojo',
        location: '../../argos-sdk/libraries/dojo/dojo'
      }, {
        name: 'dijit',
        location: '../../argos-sdk/libraries/dojo/dijit'
      }, {
        name: 'argos',
        location: '../../argos-sdk/src-out'
      }, {
        name: 'crm',
        location: 'src-out'
      }, {
        name: 'configuration',
        location: 'configuration'
      }, {
        name: 'localization',
        location: 'localization'
      }],
      map: {
        '*': {
          'Sage/Platform/Mobile': 'argos',
          'Mobile/SalesLogix': 'crm',
          'icboe': 'crm/Integrations/BOE'
        }
      }
    });
  </script>
</head>

<body>
  <div id="rootNode"></div>
  <script type="text/javascript">
    // todo: use window.Locale { currentLocale, culturesPath} to be consistent with soho

     var supportedLocales = [
            'en',
            'en-GB',
            'de',
            'fr',
            'it',
            'ru',
            'zh-CN',
            'zh-TW',
            'es',
            'es-ES',
            'pt',
            'ja',
            'nl',
            'th'
          ],
        defaultLocale = 'en',
        currentLocale = language || 'en',
        parentLocale = language || 'en',
        defaultRegionLocale = 'en',
        currentRegionLocale = regionLocale || 'en',
        parentRegionLocale = regionLocale || 'en';
    (function() {
      // Shim, sohoxi will use define.amd and require it.
      define('jquery', function() {
        return window.$;
      });
      
      require(['crm/Bootstrap'], function(bootstrap) {
        bootstrap({
          supportedLocales: supportedLocales,
          defaultLocale: defaultLocale,
          currentLocale: currentLocale,
          parentLocale: parentLocale,
          defaultRegionLocale: defaultRegionLocale,
          currentRegionLocale: currentRegionLocale,
          parentRegionLocale: parentRegionLocale,
          isRegionMetric: false,
          configuration: [
            'configuration/development'
          ],
          application: 'crm/Application',
          legacyLocalization: [
            'localization/saleslogix/en'
          ],
          legacyLocalizationFallback: [
            'localization/saleslogix/en'
          ],
          localeFiles: [
            './localization/locales/crm/en/strings.l20n',
            './localization/locales/icboe/en/strings.l20n',
            './localization/locales/contour/en/strings.l20n',
            '../../argos-sdk/localization/locales/argos/en/strings.l20n',
          ],
          regionalFiles: [
            './localization/locales/crm/en/regional.l20n',
            './localization/locales/icboe/en/regional.l20n',
            '../../argos-sdk/localization/locales/argos/en/regional.l20n',
          ],
          rootElement: document.getElementById('rootNode')
        });
      });
    })();
  </script>
</body>

</html>
